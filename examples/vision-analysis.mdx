---
title: 'Vision & Image Analysis'
description: 'AI-powered image analysis and visual content understanding'
---

import { Tabs, Tab } from 'mintlify'


The Swarms API supports advanced image analysis capabilities, allowing agents to process and understand visual content. Use vision-enabled models like GPT-4o to analyze images, extract information, and generate insights.

<Info>
Vision analysis requires GPT-4o or compatible vision-enabled models. Images can be provided as base64-encoded data or URLs.
</Info>

## Quick Start

<Tabs>
  <Tab title="Python">
    ```python
    import requests
    import base64
    import os

    API_KEY = os.getenv("SWARMS_API_KEY")
    BASE_URL = "https://api.swarms.world"

    # Encode image to base64
    def encode_image(image_path):
        with open(image_path, "rb") as image_file:
            return base64.b64encode(image_file.read()).decode('utf-8')

    headers = {
        "x-api-key": API_KEY,
        "Content-Type": "application/json"
    }

    payload = {
        "agent_config": {
            "agent_name": "Image Analyst",
            "description": "Expert in analyzing and describing visual content",
            "system_prompt": "You are an expert image analyst who provides detailed descriptions and insights about images.",
            "model_name": "gpt-4o",  # Vision-enabled model
            "max_tokens": 2048,
            "temperature": 0.7
        },
        "task": "Describe this image in detail, including the main subjects, colors, mood, and any notable elements.",
        "img": f"data:image/jpeg;base64,{encode_image('path/to/your/image.jpg')}"
    }

    response = requests.post(
        f"{BASE_URL}/v1/agent/completions",
        headers=headers,
        json=payload
    )

    result = response.json()
    print(result['outputs'])
    ```
  </Tab>
  <Tab title="JavaScript">
    ```javascript
    const API_KEY = process.env.SWARMS_API_KEY;
    const BASE_URL = "https://api.swarms.world";

    // Function to convert image to base64
    async function imageToBase64(file) {
        return new Promise((resolve, reject) => {
            const reader = new FileReader();
            reader.readAsDataURL(file);
            reader.onload = () => resolve(reader.result);
            reader.onerror = error => reject(error);
        });
    }

    const headers = {
        "x-api-key": API_KEY,
        "Content-Type": "application/json"
    };

    // Assuming you have an image file input
    const imageFile = document.getElementById('imageInput').files[0];
    const base64Image = await imageToBase64(imageFile);

    const payload = {
        agent_config: {
            agent_name: "Art Critic",
            description: "Expert art critic and visual analyst",
            system_prompt: "You are an art critic who analyzes paintings, photographs, and visual art.",
            model_name: "gpt-4o",
            max_tokens: 2048,
            temperature: 0.6
        },
        task: "Analyze this artwork. Describe the style, technique, composition, and emotional impact.",
        img: base64Image
    };

    fetch(`${BASE_URL}/v1/agent/completions`, {
        method: 'POST',
        headers: headers,
        body: JSON.stringify(payload)
    })
    .then(response => response.json())
    .then(data => {
        console.log("Analysis:", data.outputs);
    })
    .catch(error => console.error('Error:', error));
    ```
  </Tab>
  <Tab title="cURL">
    ```bash
    # Using base64 encoded image
    curl -X POST "https://api.swarms.world/v1/agent/completions" \
      -H "x-api-key: your-api-key" \
      -H "Content-Type: application/json" \
      -d '{
        "agent_config": {
          "agent_name": "Image Analyst",
          "model_name": "gpt-4o",
          "max_tokens": 2048,
          "temperature": 0.7
        },
        "task": "Describe this image in detail",
        "img": "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQ..."
      }'

    # Using image URL
    curl -X POST "https://api.swarms.world/v1/agent/completions" \
      -H "x-api-key: your-api-key" \
      -H "Content-Type: application/json" \
      -d '{
        "agent_config": {
          "agent_name": "Image Analyst",
          "model_name": "gpt-4o",
          "max_tokens": 2048
        },
        "task": "Analyze this image",
        "img": "https://example.com/image.jpg"
      }'
    ```
  </Tab>
</Tabs>

## Multiple Images

Analyze multiple images in a single request:

```python
payload = {
    "agent_config": {
        "agent_name": "Comparative Analyst",
        "description": "Expert in comparing multiple images",
        "system_prompt": "You are an expert at comparing and contrasting multiple images.",
        "model_name": "gpt-4o",
        "max_tokens": 4096
    },
    "task": "Compare these three images. Identify similarities, differences, and patterns across all images.",
    "imgs": [
        f"data:image/jpeg;base64,{encode_image('image1.jpg')}",
        f"data:image/jpeg;base64,{encode_image('image2.jpg')}",
        f"data:image/jpeg;base64,{encode_image('image3.jpg')}"
    ]
}
```

## Image URL Support

You can also use image URLs directly:

```python
payload = {
    "agent_config": {
        "agent_name": "Web Image Analyst",
        "description": "Analyzes images from URLs",
        "system_prompt": "You analyze images from web URLs and provide detailed descriptions.",
        "model_name": "gpt-4o",
        "max_tokens": 2048
    },
    "task": "Describe this image from the web and identify any brands or logos visible.",
    "img": "https://example.com/image.jpg"
}
```

## Use Cases

### Medical Image Analysis
```python
payload = {
    "agent_config": {
        "agent_name": "Medical Imaging Assistant",
        "description": "Assists with medical image interpretation",
        "system_prompt": "You are a medical imaging assistant who helps analyze radiological images.",
        "model_name": "gpt-4o",
        "max_tokens": 2048
    },
    "task": "Analyze this X-ray image. Describe any visible abnormalities or areas of concern.",
    "img": f"data:image/jpeg;base64,{encode_image('xray.jpg')}"
}
```

### Document Analysis
```python
payload = {
    "agent_config": {
        "agent_name": "Document Reader",
        "description": "Extracts text and information from documents",
        "system_prompt": "You are an expert at reading and analyzing document images.",
        "model_name": "gpt-4o",
        "max_tokens": 2048
    },
    "task": "Extract all the text from this document image and summarize the main points.",
    "img": f"data:image/jpeg;base64,{encode_image('document.jpg')}"
}
```

### Art & Design Analysis
```python
payload = {
    "agent_config": {
        "agent_name": "Design Critic",
        "description": "Analyzes design and visual composition",
        "system_prompt": "You are a design critic who analyzes visual composition, color schemes, and design principles.",
        "model_name": "gpt-4o",
        "max_tokens": 2048
    },
    "task": "Analyze the design elements in this image. Discuss color palette, typography, layout, and overall aesthetic.",
    "img": f"data:image/jpeg;base64,{encode_image('design.jpg')}"
}
```

## Supported Formats

- **JPEG/JPG**: Most common format, widely supported
- **PNG**: Supports transparency, good for graphics
- **WebP**: Modern format with good compression
- **Base64 encoded**: Convert any image format to base64
- **Direct URLs**: Publicly accessible image URLs

## Best Practices

1. **Image Quality**: Use high-quality images for better analysis
2. **Clear Tasks**: Provide specific analysis instructions
3. **Model Selection**: Use GPT-4o for vision tasks (not GPT-4o-mini)
4. **File Size**: Keep images under 20MB for optimal performance
5. **Base64 Encoding**: Always include the data type prefix (`data:image/jpeg;base64,`)
6. **Error Handling**: Handle cases where images can't be processed

## Cost Considerations

- **Image Processing**: $0.25 per image
- **Token Usage**: Vision models use more tokens for image analysis
- **Resolution**: Higher resolution images increase processing costs

## Error Handling

```python
try:
    response = requests.post(
        f"{BASE_URL}/v1/agent/completions",
        headers=headers,
        json=payload,
        timeout=60
    )

    if response.status_code == 200:
        result = response.json()
        print("Analysis:", result['outputs'])
    else:
        print(f"Error: {response.status_code} - {response.text}")

except requests.exceptions.RequestException as e:
    print(f"Request failed: {e}")
except Exception as e:
    print(f"Processing error: {e}")
```
